# 🎄 크리스마스 프로모션

### ⌛ 구현 기간 : 2023.11.12 ~

### 🚀 기술 스택

- java version 19

## 🎯 이벤트 목표

- 중복된 할인, 증정 허용 -> 고객의 혜택 증가 체감
- 5년 중 최고 판매 금액 달성
- 12월 이벤트 참여 고객의 5%가 내년 1월 새해 이벤트 재참여

## 📄 이벤트 계획

- 크리스마드 디데이 할인
  - 기간 : 2023.12.01 ~ 2023.12.25
  - 할인 금액 1,000원으로 시작 -> 크리스마스가 다가올 수록 할인 금액 100원씩 증가
  - 총 주문 금액에서 해당 금액만큼 할인 
  - ex) 12.01 > 1,000원, 12.02 > 1,100원 ... 12.25 > 3,400원 할인
- 할인
  - 기간 : 2023.12.01 ~ 2023.12.31
  - 평일 할인(일,월,화,수,목) : 디저트 메뉴 1개당 2,023원 할인
  - 주말 할인(금,토) : 메인 메뉴 1개당 2,023원 할인
  - 특별 할인 : 이벤트 달력 별이 있는 날에는 총 주문 금액에서 1,000원 할인
  - 증정 이벤트 : 할인 전 총 주문 금액이 12만원 이상일 때 샴페인 1개 증정
- 배지
  - 총 혜택 금액에 따라 이벤트 배지 부여
  - 2024 새해 이벤트에서 활용
  - 배지에 따라 새해 이벤트 선물 증정
  - 5천원 이상 : 별
  - 1만원 이상 : 트리
  - 2만원 이상 : 산타
- 제한 사항 
  - 총 주문 금액 : 10,000원 이상부터 이벤트 적용
  - 메뉴 : 최대 20개까지 주문 가능, 음료만 주문 시 주문 불가

## 🧩 요구 사항 분석

- 이벤트 프로세스
  - 고객 
    - 방문 날짜, 메뉴 선택
      - 방문 날짜
        - 1이상 31 이하 숫자만 입력
        - 아닐 경우 "[ERROR]" 포함된 에러 메시지
      - 메뉴
        - 주문할 메뉴, 개수 입력
        - ex) 해산물파스타-2, 레드와인-1, 초코케이크-1
        - 메뉴판에 없는 메뉴 입력 시 "[ERROR]" 포함된 에러 메시지
          - "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
        - 메뉴 형식이 예시와 다른 경우 "[ERROR]" 포함된 에러 메시지
          - "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
        - 중복 메뉴 입력할 경우 "[ERROR]" 포함된 에러 메시지
          - "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
  - 이벤트 플래너
    - 주문 메뉴, 할인 전 총 주문 금액, 증정 메뉴, 혜택 내역, 총 혜택 금액, 할인 후 예상 결제 금액, 12월 이벤트 배지 내용 제공
    - 주문 메뉴
      - 출력 순서 자유
    - 총 혜택 금액
      - 총 혜택 금액 = 할인 금액의 합계 + 증정 메뉴 가격
      - 총 혜택 금액에 따라 배지 다르게 제공
      - 이벤트 미적용 시 총 혜택 금액 "없음"
    - 할인 후 예상 결제 금액
      - 할인 후 예상 결제 금액 = 할인 전 총 주문 금액 - 할인 금액
    - 증정 메뉴
      - 증정 이벤트 미해당 시 증정 메뉴 "없음"
    - 혜택 내역
      - 고객에게 적용된 이벤트 내역만 제공
      - 이벤트 미적용 시 혜택 내역 "없음"
      - 혜택 내역에 여러 개의 이벤트가 적용된 경우 출력 순서 자유
    - 이벤트 배지
      - 이벤트 배지 미부여 시 배지 "없음"

## ⭐ 기능 목록

- ### 입력
  - 식당 예상 방문 날짜 입력 ✔️ 🍇 inputDate()
    - 1부터 31사이 정수 ✔️ 
    - 정수가 아닐 경우 "[ERROR]" 포함 에러 메시지 ✔️
    - 양쪽 공백 없애기 ✔️
  - 주문할 메뉴와 개수 입력 ✔️ 🍇 inputOrder()
    - ex) 해산물파스타-2, 레드와인-1, 초코케이크-1 ✔️
    - 양쪽 공백 없애기 ✔️

- ### 기능
  - 식당 예상 방문 날짜 유효성 검사 ✔️ 🍇 validate()
    - 1부터 31사이 정수인지 판단 ✔️ 🍇 isDateRangeRight()
    - 아닐 경우 "[ERROR]" 포함 에러 메시지 ✔️
  - 예상 방문 날짜의 요일 계산 ✔️ 🍇 calculateDay()
    - 예상 방문 날짜의 요일 = (date - 1) % 7 ✔️
    - 12월의 시작이 금요일이므로 0 -> 금, 1 -> 토 ... 6 -> 목 ✔️ 
  - 주문 메뉴, 개수 구분 ✔️ 🍇 createOrderList()
    - 쉼표(,) 기준 주문 구분 ✔️ 
    - 바(-) 기준 메뉴, 주문 개수 구분 ✔️ 🍇 splitOrder()
  - 주문 메뉴 유효성 검사 ✔️ 🍇 validate()
    - 메뉴판에 없는 메뉴 입력 시 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." ✔️
    - 메뉴 형식이 예시와 다른 경우 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." ✔️
    - 중복 메뉴 입력할 경우 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요." ✔️
  - 주문 개수 유효성 검사 🍇 isCountOver1()
    - 주문 개수가 1 이상이 아닐 경우 "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
  - 메뉴 목록 생성 ✔️ 🍇 createMenu()
    - 애피타이저 ✔️
      - 양송이수프 6,000원 ✔️
      - 타파스 5,500원 ✔️
      - 시저샐러드 8,000원 ✔️
    - 메인 ✔️
      - 티본스테이크 55,000원 ✔️
      - 바비큐립 54,000원 ✔️
      - 해산물파스타 35,000원 ✔️
      - 크리스마스파스타 25,000원 ✔️
    - 디저트 ✔️
      - 초코케이크 15,000원 ✔️
      - 아이스크림 5,000원 ✔️
    - 음료 ✔️
      - 제로콜라 3,000원 ✔️
      - 레드와인 60,000원 ✔️
      - 샴페인 25,000원 ✔️
  - 주문 메뉴 종류 개수 ✔️ 
    - 에피타이저/메인/디저트/음료 메뉴 개수 세기 ✔️ 🍇 calculateOrderType()
      - 음료만 주문 시 주문 불가 ✔️ 🍇 isOrderOnlyDrink()
    - 20개보다 많을 경우 주문 불가 ✔️ 🍇 isCountOver20()
  - 할인 전 총 주문 금액 계산 ✔️ 🍇 sumOrderPrice()
    - 할인 전 총 주문 금액 = 주문 메뉴의 금액 x 개수의 총 합 ✔️
  - 이벤트 적용 여부 판단 ✔️ 🍇 isOrderApplyPromotion()
    - 총 주문 금액 10,000원 이상부터 이벤트 적용 ✔️
  - 증정 이밴트 계산 ✔️ 🍇 giveawayPromotion()
    - 할인 전 총 주문 금액이 12만원 이상일 때 샴페인 1개 증정 ✔️ 🍇 isOrderApplyGiveawayPromotion()
    - 샴페인 1병 금액 25,000원 - 총 혜택 금액에 적용 ✔️ 🍇 applyGiveawayPromotion()
  - 크리스마스 디데이 할인 계산 ✔️ 🍇 christmasPromotion()
    - 할인 금액 1,000원으로 시작해서 크리스마스가 다가올 수록 할인 금액 100원씩 증가 ✔️
    - 디데이 할인 = 1000 + 100 * (x - 1) ✔️ 🍇 applyChristmasPromotion()
    - 날짜가 25일보다 클 경우 적용 X ✔️ 🍇 isOrderApplyChristmasPromotion()
  - 평일 할인 계산 ✔️ 🍇 weekdayPromotion()
    - 일,월,화,수,목 ✔️ 🍇 isDateFriOrSaturday()
    - 디저트 메뉴 1개당 2,023원 할인 ✔️ 🍇 applyWeekdayPromotion()
  - 주말 할인 계산 ✔️ 🍇 weekendPromotion()
    - 금, 토 ✔️ 🍇 isDateFriOrSaturday()
    - 메인 메뉴 1개당 2,023원 할인 ✔️ 🍇 applyWeekendPromotion()
  - 특별 할인 계산 ✔️ 🍇 specialPromotion()
    - 이벤트 달력 별이 있는 날에는 총 주문 금액에서 1,000원 할인 ✔️ 🍇 applySpecialPromotion()
    - 별이 있는 날 ✔️ 🍇 isStarDate()
      - 3일, 10일, 17일, 24일, 25일, 31일 ✔️ 🍇 starDateList
  - 총 혜택 금액 계산(원) ✔️ 🍇 sumOfPromotionPrice()
    - 총 혜택 금액 = 할인 금액의 합계 + 증정 메뉴 가격 ✔️
  - 할인 후 예상 결제 금액 계산(원) ✔️ 
    - 할인 후 예상 결제 금액 = 할인 전 총 주문 금액 - 할인 금액 ✔️
  - 12월 이벤트 배지 계산 ✔️ 🍇 calculateBadge()
    - 총 혜택 금액에 따라 이벤트 배지 부여 ✔️
      - 5천원 이상 : 별 ✔️
      - 1만원 이상 : 트리 ✔️
      - 2만원 이상 : 산타 ✔️

- ### 출력
  - 이벤트 플래너 인사 메시지 출력 ✔️ 🍇 printHello()
  - 예약 날짜 출력 ✔️ 🍇 printDate()
  - 주문 메뉴와 개수 입력 메시지 출력 ✔️ 🍇 inputOrder()
  - 이벤트 혜택 메시지 출력 🍇 printPromotion()
    - 주문 메뉴 목록 출력 ✔️ 🍇 printMenu()
      - 주문 메뉴와 개수 ✔️ 🍇 printOrderMenu()
      - ex) "티본 스테이크 1개" ✔️
    - 할인 전 총 주문 금액 출력(원) ✔️ 🍇 printTotalPrice()
    - 증정 메뉴 출력 ✔️ 🍇 printGiveaway()
      - ex) "샴페인 1개" ✔️
      - 증정 이벤트 미해당 시 "없음" ✔️
    - 혜택 내역 출력 ✔️ 🍇 printPromotionDetails()
      - 크리스마스 디데이 할인 내역 ✔️
      - 평일 할인 내역 ✔️
      - 특별 할인 내역 ✔️
      - 증정 이벤트 내역 ✔️
      - 이벤트 미적용 시 "없음" ✔️
    - 총 혜택 금액 출력(원) ✔️ 🍇 printPromotionPrice()
      - 이벤트 미적용 시 "0원" ✔️
    - 할인 후 예상 결제 금액 출력 ✔️ 🍇 printPromotionTotalPrice()
    - 12월 이벤트 배지 출력 ✔️ 🍇 printBadge()
      - 총 혜택 금액에 따라 이벤트 배지 부여 ✔️
      - 이벤트 배지 미부여 시 "없음" ✔️

- ### 추가 요구 사항 ✔️
  - 입력 담당하는 클래스 별도 구현 ✔️ 🍇 InputView
  - 출력 담당하는 클래스 별도 구현 ✔️ 🍇 OutputView

- ### 추가 보완 사항
  - 예외 처리 시 enum 사용 ✔️ 🍇 ExceptionList
  - test case 작성
  - 코드 집중된 클래스 분리 ✔️

- ### TEST CASE 
  - 식당 예상 방문 날짜가 1부터 31 사이의 숫자가 아닐 경우
    - 날짜_범위_예외_테스트() ✔️
    - 날짜_범위_예외_테스트2() ✔️
  - 식당 예상 방문 날짜가 숫자가 아닐 경우
    - 날짜_예외_테스트() ✔️
  - 식당 예상 방문 날짜 형식이 예시와 다른 경우
    - 날짜_입력_예외_테스트() ✔️
  - 메뉴판에 없는 메뉴 입력했을 경우
    - 주문_입력_예외_테스트() ✔️
  - 메뉴 형식이 예시와 다른 경우
    - 쉼표(,) 미포함할 경우 : 주문_쉼표_예외_테스트() ✔️
    - 바(-) 미포함할 경우 : 주문_바_예외_테스트() ✔️
    - 형식에 맞지 않는 문자 입력할 경우 : 주문_오입력_예외_테스트() ✔️
  -  중복 메뉴 입력할 경우
    - 주문_중복_예외_테스트() ✔️
  - 주문 총 개수가 20개 초과일 경우
    - 주문_범위_20개_예외_테스트() ✔️
  - 음료만 주문했을 경우
    - 주문_유효성_예외_테스트() ✔️
  - 주문 개수가 1 이상인 숫자가 아닐 경우
    - 주문_범위_예외_테스트() ✔️
  - 주문 개수가 숫자가 아닐 경우
    - 주문_예외_테스트() ✔️
  - 식당 예상 방문 날짜에 따라 크리스마스 디데이 할인 적용되는지
    - 크리스마스_할인_출력() ✔️
    - 크리스마스_할인_미출력() ✔️
  - 식당 예상 방문 날짜에 따라 평일 할인 적용되는지(일,월,화,수,목)
    - 평일_일요일_할인_출력() ✔️
    - 평일_월요일_할인_출력() ✔️
    - 평일_화요일_할인_출력() ✔️
    - 평일_수요일_할인_출력() ✔️
    - 평일_목요일_할인_출력() ✔️
  - 식당 예상 방문 날짜에 따라 주말 할인 적용되는지(금,토)
    - 주말_금요일_할인_출력() ✔️
    - 주말_토요일_할인_출력() ✔️
  - 식당 예상 방문 날짜에 따라 평일/주말 할인 적용 안되는지
    - 주말_평일_할인_미출력() 
    - 평일_주말_할인_미출력()
  - 식당 예상 방문 날짜에 따라 특별 할인 적용되는지
    - 특별_할인_출력()
    - 특별_할인_미출력()
  - 총 주문 금액에 따라 증정 이벤트 적용되는지
    - 증정_이벤트_출력()
  - 총 혜택 금액에 따라 이벤트 배지 부여되는지
    - 5천원 이상 - 별 : 이벤트_배지_별_출력()
    - 1만원 이상 - 트리 : 이벤트_배지_트리_출력()
    - 2만원 이상 - 산타 : 이벤트_배지_산타_출력()
  - 모든 타이틀 출력되는지
    - 모든_타이틀_출력()
  - 이벤트 플래너 인사 메시지 출력되는지
    - 인사_메시지_출력()
  - 예약 날짜 출력되는지
    - 예약_날짜_출력()
  - 주문 내역 출력되는지
    - 주문_내역_출력()
  - 증정 메뉴 있을 경우 "샴페인 1개" 출력되는지
    - 증정_메뉴_출력()
  - 증정 메뉴 없을 경우 "없음" 출력되는지
    - 증정_메뉴_없음_출력()
  - 혜택 내역 없을 경우 "없음" 출력되는지 
    - 혜택_내역_없음_출력()
  - 총 혜택 금액 없을 경우 "0원" 
    - 혜택_금액_0원_출력()
  - 이벤트 배지 없을 경우 "없음" 출력되는지
    - 이벤트_배지_없음_출력()